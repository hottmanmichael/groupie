"use strict";function stopBodyScroll(){document.body.classList.add("noscroll")}function resumeBodyScroll(){document.body.classList.remove("noscroll")}!function(){function e(){l.classList.toggle("open"),l.isOpen?(resumeBodyScroll(),a()):(stopBodyScroll(),t()),l.isOpen=!l.isOpen}function t(){l.classList.add("fade");var t=document.createElement("div");t.className="menu-inner";var a=document.createElement("h1");a.className="menu-title",a.innerHTML="Menu";var i=document.createElement("i");i.className="fa fa-times close-menu",i.addEventListener("click",e);var c=document.createElement("i");c.className="fa fa-home go-home",c.addEventListener("click",s);var d=document.createElement("a");d.className="github-link",d.target="_blank",d.href="https://github.com/hottmanmichael/groupie";var m=document.createElement("i");m.className="gh fa fa-github",d.appendChild(m),t.appendChild(c),t.appendChild(i),t.appendChild(a),t.appendChild(d);var u=document.createElement("div");u.className="current-artist";var v=document.createElement("h1");v.className="menu-section-title",v.innerHTML="Current Artist";var p=document.createElement("h3");if(p.className="current-content-title",o){p.innerHTML=o.name;var h=document.createElement("div");h.className="save-favorite",h.innerHTML="Save current as favorite",h.addEventListener("click",function(){r.addFavorite(o,function(e){"success"===e.status&&n(o),new Notification(e.status,e.message,2e3).show()})}),u.appendChild(h)}else p.innerHTML="No current artist found... Search for one to get started!";u.appendChild(v),u.appendChild(p),t.appendChild(u);var f=document.createElement("div");f.className="favorites";var E=document.createElement("h1");E.className="menu-section-title",E.innerHTML="Favorites",f.appendChild(E),t.appendChild(f);var L=document.createElement("ul");if(L.className="favorites-list",L.id="favorites-list",t.appendChild(L),l.appendChild(t),r.artists.length>0)for(var g=0;g<r.artists.length;g++)n(r.artists[g]);l.classList.remove("fade")}function n(e){var t=document.getElementById("favorites-list"),n=document.createElement("li");n.className="favorite-item",n.innerHTML=e.name,n.properties=e,n.addEventListener("click",function(e){r.setLocal("CURRENT_ARTIST",e.target.properties),i(e.target.properties)}),t.appendChild(n)}function a(){var e=document.querySelector(".menu-inner");l.classList.add("fade"),setTimeout(function(){l.removeChild(e)},350)}function i(e){var t="/dashboard.html",n="?"+e.slug;window.location.assign(t+n)}function s(){window.location.assign("/")}var r=new User;r.authenticated()||r.create(),r.establish(r.fetchLocal("MODEL"));var c=r.fetchLocal("CURRENT_ARTIST");if(c)var o=new Artist(c.id,c.name,c.slug);var d=document.getElementById("user-menu-button"),l=(document.querySelector("header"),document.createElement("div"));l.isOpen=!1,l.className="user-menu",d.addEventListener("click",e),document.body.insertBefore(l,document.body.children[0])}();